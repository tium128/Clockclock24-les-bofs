<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClockClock24 - Choreography Designer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ClockClock24 Choreography Designer</h1>
            <div class="project-controls">
                <input type="text" id="projectName" placeholder="Nom du projet" value="nouvelle_choregraphie">
                <button onclick="exportProject()">üì§ Exporter JSON</button>
                <button onclick="importProject()">üì• Importer JSON</button>
                <input type="file" id="importFile" accept=".json" style="display:none" onchange="handleFileImport(event)">
            </div>
        </header>

        <div class="main-content">
            <!-- Keyframes Timeline -->
            <div class="timeline-section">
                <h2>Keyframes</h2>
                <div class="timeline-controls">
                    <button onclick="addKeyframe()">+ Ajouter Keyframe</button>
                    <button onclick="duplicateKeyframe()">üìã Dupliquer</button>
                    <button onclick="deleteKeyframe()">üóëÔ∏è Supprimer</button>
                </div>
                <div class="timeline" id="timeline"></div>
            </div>

            <!-- Clock Matrix -->
            <div class="matrix-section">
                <h2>Keyframe <span id="currentKeyframeNum">1</span></h2>
                <div class="matrix-header">
                    <div class="slave-labels">
                        <span></span>
                        <span>Slave 1</span>
                        <span>Slave 2</span>
                        <span>Slave 3</span>
                        <span>Slave 4</span>
                        <span>Slave 5</span>
                        <span>Slave 6</span>
                        <span>Slave 7</span>
                        <span>Slave 8</span>
                    </div>
                </div>
                <div class="clock-matrix" id="clockMatrix"></div>

                <!-- Comment section -->
                <div class="comment-section">
                    <label for="keyframeComment">Commentaire / Instructions:</label>
                    <textarea id="keyframeComment" placeholder="Ex: d√©clenche les mouvements colonne par colonne avec un d√©calage de 500ms" onchange="saveComment()"></textarea>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <h3>Actions rapides</h3>
                <div class="action-group">
                    <h4>Preset angles</h4>
                    <button onclick="setAllAngles(0, 0)">12:00 (0¬∞/0¬∞)</button>
                    <button onclick="setAllAngles(90, 90)">3:00 (90¬∞/90¬∞)</button>
                    <button onclick="setAllAngles(180, 180)">6:00 (180¬∞/180¬∞)</button>
                    <button onclick="setAllAngles(270, 270)">9:00 (270¬∞/270¬∞)</button>
                    <button onclick="setAllAngles(135, 315)">Diagonal ‚Üó</button>
                    <button onclick="setAllAngles(225, 45)">Diagonal ‚Üô</button>
                </div>
                <div class="action-group">
                    <h4>Directions</h4>
                    <button onclick="setAllDirections('CW', 'CW')">Tout CW</button>
                    <button onclick="setAllDirections('CCW', 'CCW')">Tout CCW</button>
                    <button onclick="setAllDirections('CW', 'CCW')">H:CW M:CCW</button>
                    <button onclick="setAllDirections('CCW', 'CW')">H:CCW M:CW</button>
                </div>
                <div class="action-group">
                    <h4>S√©lection</h4>
                    <button onclick="selectAll()">Tout s√©lectionner</button>
                    <button onclick="selectNone()">D√©s√©lectionner</button>
                    <button onclick="selectColumn()">S√©lectionner colonne</button>
                    <button onclick="selectRow()">S√©lectionner ligne</button>
                </div>
            </div>
        </div>

        <!-- Preview Panel -->
        <div class="preview-section">
            <h2>Aper√ßu</h2>
            <div class="preview-controls">
                <button onclick="previewPrevious()">‚èÆÔ∏è</button>
                <button onclick="playPreview()" id="playBtn">‚ñ∂Ô∏è Play</button>
                <button onclick="previewNext()">‚è≠Ô∏è</button>
                <label>
                    Dur√©e transition:
                    <input type="number" id="transitionDuration" value="1000" min="100" max="5000" step="100">ms
                </label>
            </div>
            <canvas id="previewCanvas" width="640" height="240"></canvas>
        </div>

        <!-- Code Output -->
        <div class="code-section">
            <h2>Code C++ g√©n√©r√©</h2>
            <button onclick="generateCode()">G√©n√©rer le code</button>
            <button onclick="copyCode()">üìã Copier</button>
            <pre id="codeOutput"></pre>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
